<!--
  @file: changelog.md
  @description: Хронологический журнал всех изменений проекта MemoMed AI
  @dependencies: project.md, tasktracker.md
  @created: 2026-02-22
-->

# MemoMed AI -- Журнал изменений (Changelog)

> Формат: [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/)

---

## [2026-02-22] - Архитектурное проектирование и решение Q&A

### Добавлено
- Документация проекта: `docs/project.md` (архитектура, стек, стандарты, roadmap)
- Трекер задач: `docs/tasktracker.md` (20+ задач по 5 этапам)
- Дневник разработки: `docs/diary.md` (2 записи: архитектурные решения + Q&A)
- Вопросы по архитектуре: `docs/qa.md` (15 вопросов, все решены)
- Журнал изменений: `docs/changelog.md` (этот файл)
- Правила для AI-ассистентов: `.cursorrules`
- Таблица `chat_messages` в схеме БД (серверное хранение истории AI-чата)
- Таблица `ai_usage_stats` в схеме БД (мониторинг расхода токенов)
- Token budget: 50K токенов/месяц на пользователя
- Freemium-модель аналитики обратной связи (бесплатный + подписка)
- Согласие на обработку данных (ФЗ-152) в регистрации
- Медицинский дисклеймер для AI-чата
- Задачи в v1.1: онбординг, Text-to-Speech

### Изменено
- Стек: Flutter → Next.js 14+ (web-first подход)
- Стек: OpenAI → DeepSeek API (оплата из РФ)
- Стек: Express.js → Next.js API Routes (единый проект)
- Стек: SQLite → IndexedDB/Dexie.js (offline в браузере)
- Стек: WebSocket → SSE (для живой ленты)
- Стек: raw SQL → Prisma ORM
- Бизнес-модель: прямая продажа данных → freemium-аналитика
- Invite-код: 8 символов → 12 символов (безопасность)
- История чата: клиентская → серверная (таблица `chat_messages`)

### Исправлено
- Баг в SQL-схеме: функция `reset_daily_medication_flags()` уничтожала историю приёмов (удалена, логи теперь иммутабельны)

---

## Ссылки

- [Описание проекта](project.md)
- [Трекер задач](tasktracker.md)
- [Дневник разработки](diary.md)
- [Вопросы по архитектуре](qa.md)

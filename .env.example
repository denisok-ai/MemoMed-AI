# =============================================
# MemoMed AI — Переменные окружения
# Скопируйте этот файл в .env и заполните значения
# =============================================

# --- База данных PostgreSQL ---
# Для dev: порт 5433 (чтобы не конфликтовать с другими проектами)
DATABASE_URL=postgresql://memomed:memomed_dev@localhost:5433/memomed_db

# Пароль для docker-compose (должен совпадать с паролем в DATABASE_URL)
MEMOMED_PG_PASSWORD=memomed_dev
# Внешний порт PostgreSQL (по умолчанию 5433)
MEMOMED_PG_PORT=5433
# Внешний порт Redis (по умолчанию 6380)
MEMOMED_REDIS_PORT=6380

# --- Redis ---
REDIS_URL=redis://localhost:6380

# --- NextAuth.js ---
# Генерация: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret_min_32_chars
NEXTAUTH_URL=http://localhost:3000

# --- DeepSeek AI ---
DEEPSEEK_API_KEY=sk-your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# Метеоданные (опционально): https://openweathermap.org/api
OPENWEATHER_API_KEY=

# --- Web Push (VAPID) ---
# Генерация: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_EMAIL=mailto:admin@your-domain.com

# --- Хранилище файлов (фото лекарств) ---
# LOCAL — файлы в ./public/uploads (для разработки)
# S3 — S3-совместимое хранилище
STORAGE_TYPE=local
UPLOAD_MAX_SIZE_MB=5

# S3 настройки (если STORAGE_TYPE=s3)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_BUCKET=memomed-uploads
# S3_ACCESS_KEY=
# S3_SECRET_KEY=
# S3_REGION=eu-central-1

# --- Frontend (NEXT_PUBLIC_*) ---
NEXT_PUBLIC_VAPID_PUBLIC_KEY=${VAPID_PUBLIC_KEY}
NEXT_PUBLIC_UPLOAD_MAX_SIZE_MB=5

# --- Приложение ---
NODE_ENV=development
# Режим отладки: dev-login доступен на сервере (true/false)
ENABLE_DEV_LOGIN=false
# При CI/CD задаётся автоматически:
# COMMIT_SHA=abc1234
